<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kusal Debnath - Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* Default Dark Theme Styles - NETFLIX INSPIRED: BLACK/DARK GRAY BASE, NETFLIX RED ACCENTS */
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.4s ease-in-out, color 0.4s ease-in-out;
        }

        body.dark-theme {
            background-color: #141414; /* Netflix Black */
            color: #E5E7EB; /* Light Gray (Good for text) */
        }

        .dark-theme .accent-gradient-text {
            background: linear-gradient(to right, #E50914, #B00710); /* Netflix Red gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .dark-theme .accent-border {
            border-bottom-width: 4px; /* Match section-title border thickness */
            border-style: solid;
            border-image-slice: 1;
            border-image-source: linear-gradient(to right, #E50914, #B00710); /* Netflix Red gradient */
        }
        .dark-theme .card {
            background-color: #222222; /* Dark Gray for cards */
            border-radius: 0.75rem;
            padding: 1.5rem;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, background-color 0.4s ease-in-out;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        .dark-theme .card:not(.no-hover-effect):not(.education-item):hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(229, 9, 20, 0.25), 0 4px 6px -4px rgba(229, 9, 20, 0.25); /* Netflix Red shadow */
        }
        .dark-theme .tag {
            background-color: #333333; /* Medium Gray */
            color: #D1D5DB; /* Lighter Gray */
        }
        .dark-theme .hobby-tag {
            background-color: #E50914; /* Netflix Red */
            color: #FFFFFF; /* White text */
        }
        .dark-theme .icon-link { color: #AAAAAA; } /* Lighter Gray for icons */
        .dark-theme .icon-link:hover { color: #E50914; } /* Netflix Red hover */

        .dark-theme nav {
            background-color: rgba(20, 20, 20, 0.9); /* Darker, more opaque nav background */
            backdrop-filter: blur(5px);
        }
        .dark-theme #nav-links a { color: #D1D5DB; }
        .dark-theme #nav-links a:hover, .dark-theme #nav-links a.active {
            color: #FFFFFF; /* White for active/hover link */
            border-bottom-color: #E50914; /* Netflix Red underline */
        }
        .dark-theme #mobile-menu a { color: #D1D5DB; }
        .dark-theme #mobile-menu a:hover { background-color: #333333; color: #E50914; } /* Medium gray bg, Netflix Red text */
        .dark-theme #mobile-menu a.active { background-color: #E50914; color: #FFFFFF; } /* Netflix Red bg, White text */
        .dark-theme #mobile-menu-button svg { stroke: #D1D5DB; }

        .dark-theme .btn-primary {
            background: linear-gradient(to right, #E50914, #B00710); /* Netflix Red gradient */
            color: white;
        }
        .dark-theme .btn-primary:hover {
            background: linear-gradient(to right, #B00710, #830000); /* Darker Netflix Red gradient */
            box-shadow: 0 0 15px rgba(229, 9, 20, 0.5); /* Netflix Red shadow */
        }
        .dark-theme .btn-secondary {
            background-color: transparent;
            color: #E50914; /* Netflix Red text */
            border-color: #E50914; /* Netflix Red border */
        }
        .dark-theme .btn-secondary:hover { background-color: #E50914; color: white; } /* Netflix Red bg, White text */

        /* Hero Section Specific Styles - Dark Theme */
        .dark-theme #hero .hero-name {
            /* Kusal will be this color, Debnath (span) will use accent-gradient-text */
            color: #FFFFFF; /* White for the main part of the name */
            background: none; /* Remove existing gradient */
            -webkit-background-clip: initial; /* Reset clip */
            -webkit-text-fill-color: initial; /* Reset fill color */
        }
        .dark-theme #hero .hero-designation {
            color: #AAAAAA !important; /* Lighter Gray for designation */
        }
        .dark-theme #hero .profile-image-border {
            border-color: #E50914; /* Netflix Red */
        }

        /* About Me Section Specific Styles - Dark Theme */
        .dark-theme #about-me .text-content-color {
             color: #AAAAAA !important; /* Lighter Gray */
        }


        .dark-theme .text-content-area .text-gray-400,
        .dark-theme .education-folder-content .text-gray-400
        { color: #AAAAAA !important; } /* Lighter Gray */

        .dark-theme .text-content-area .text-gray-500,
        .dark-theme .education-folder-content .text-gray-500
        { color: #888888 !important; } /* Medium-Light Gray */

        .dark-theme .education-folder-tab .text-indigo-400 { color: #E50914 !important; } /* Netflix Red */
        .dark-theme .education-folder-tab .text-amber-400 { color: #E50914 !important; }  /* Netflix Red */
        .dark-theme .education-folder-tab .text-teal-400 { color: #E50914 !important; }   /* Netflix Red */
        .dark-theme .education-folder-tab .text-purple-400 { color: #E50914 !important; } /* Netflix Red */

        .dark-theme .text-content-area .text-pink-400 { color: #E50914 !important; } /* Netflix Red for skills headers etc. */
        .dark-theme .text-content-area .text-amber-400:not(.education-folder-tab .text-amber-400) { color: #E50914 !important; } /* Netflix Red */
        .dark-theme .text-content-area .text-teal-400:not(.education-folder-tab .text-teal-400) { color: #E50914 !important; } /* Netflix Red */
        .dark-theme .text-content-area .text-purple-400:not(.education-folder-tab .text-purple-400) { color: #E50914 !important; } /* Netflix Red */

        .dark-theme .project-card-footer a { color: #E50914; } /* Netflix Red */
        .dark-theme .project-card-footer a:hover { color: #B00710; } /* Darker Netflix Red */
        .dark-theme .text-content-area .text-amber-500 { color: #E50914; } /* Netflix Red for GitHub/DOI links */
        .dark-theme .text-content-area .text-amber-500:hover { color: #B00710; } /* Darker Netflix Red */
        .dark-theme #contact .card .text-pink-400 { color: #E50914 !important; } /* Netflix Red for icons */
        .dark-theme #contact .card a:hover { color: #B00710 !important; } /* Darker Netflix Red for links */
        .dark-theme #hobbies .card .text-gray-300 { color: #D1D5DB !important; } /* Fine as is */

        .dark-theme .education-folder-content p, .dark-theme .education-folder-content ul, .dark-theme .education-folder-content li, .dark-theme .education-folder-content span, .dark-theme .education-folder-content a
        { color: #D1D5DB; } /* Fine as is */
         .dark-theme #about-me .card p { color: #D1D5DB; } /* Fine as is */


        .dark-theme .education-folder-content .text-amber-500 { color: #E50914 !important; } /* Netflix Red */
        .dark-theme .education-folder-content .text-amber-500:hover { color: #B00710 !important; } /* Darker Netflix Red */

        .dark-theme footer { background-color: #000000; color: #888888; } /* Black footer, Medium-Light Gray text */
        .dark-theme footer .text-gray-500 { color: #666666 !important; } /* Darker Gray */
        .dark-theme footer .text-gray-600 { color: #555555 !important; } /* Even Darker Gray */
        .dark-theme footer .fa-heart { color: #E50914 !important; } /* Netflix Red heart */

        .dark-theme ::-webkit-scrollbar-track { background: #222222; } /* Dark Gray track */
        .dark-theme ::-webkit-scrollbar-thumb { background: linear-gradient(to bottom, #E50914, #B00710); } /* Netflix Red gradient thumb */
        .dark-theme ::-webkit-scrollbar-thumb:hover { background: linear-gradient(to bottom, #B00710, #830000); } /* Darker Netflix Red gradient thumb */

        /* Theme Toggle Slider Styles */
        .dark-theme .theme-slider { background-color: #333333; border-color: #555555; } /* Medium Gray slider */
        .dark-theme .theme-slider-thumb {
            background-color: #FFFFFF; /* White thumb */
            border: 1px solid #4B5563; /* Darker border for visibility on dark slider */
            transform: translateX(30px);
        }
        .dark-theme .theme-slider .sun-icon { color: #E50914; opacity: 1;} /* Netflix Red for sun icon */
        .dark-theme .theme-slider .moon-icon { color: #E5E7EB; opacity: 0;} /* Light Gray for moon icon */

        /* Education Card Specifics (Docked Info) */
        .dark-theme .institute-info-dock {
            background-color: rgba(20, 20, 20, 0.9); /* Matches nav background */
        }
        .dark-theme .institute-info-dock .degree-title {
            color: #E50914 !important; /* Netflix Red for degree title */
        }
        .dark-theme .institute-info-dock .degree-info {
            color: #D1D5DB !important; /* Fine as is */
        }

        /* Education Carousel Arrows */
        .dark-theme .edu-nav-arrow {
            background-color: #333333; /* Medium Gray */
            color: #E50914; /* Netflix Red icon */
        }
        .dark-theme .edu-nav-arrow:not(:disabled):hover {
            background-color: #555555; /* Darker Medium Gray */
        }

        /* Folder Styles */
        .dark-theme .education-folder-tab {
            background-color: #282828; /* Slightly darker than card for differentiation */
            border-color: #404040; /* Dark Gray border */
        }
        .dark-theme .education-folder-tab:hover {
            background-color: #333333; /* Medium Gray on hover */
        }
        .dark-theme .education-folder-content {
            background-color: #222222; /* Matches card background */
            border-color: #404040; /* Dark Gray border */
        }
        .dark-theme .education-folder-container:hover {
            box-shadow: 0 6px 12px rgba(229, 9, 20, 0.2); /* Netflix Red shadow */
        }

        /* Education Image Zoom and Dock Opacity on Hover for bigger screens */
        .dark-theme .education-item:hover .institute-info-dock {
            background-color: rgba(20, 20, 20, 0.98); /* More opaque for dark theme */
        }


        /* Light Theme Styles - SPOTIFY INSPIRED: WHITE BASE, SPOTIFY GREEN ACCENTS */
        body.light-theme {
            background-color: #FFFFFF;
            color: #191414; /* Spotify Black for text */
        }

        .light-theme .accent-gradient-text {
            background: linear-gradient(to right, #1DB954, #1AA34A); /* Spotify Green gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .light-theme .accent-border {
            border-bottom-width: 4px;
            border-style: solid;
            border-image-slice: 1;
            border-image-source: linear-gradient(to right, #1DB954, #1AA34A); /* Spotify Green gradient */
        }
        .light-theme .section-title {
            color: #1DB954; /* Spotify Green */
        }
        .light-theme .card {
            background-color: #F0F0F0; /* Light Gray for cards */
            border-radius: 0.75rem;
            padding: 1.5rem;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, background-color 0.4s ease-in-out;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid #DCDCDC; /* Slightly darker border for cards */
        }
        .light-theme .card:not(.no-hover-effect):not(.education-item):hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(29, 185, 84, 0.1), 0 4px 6px -4px rgba(29, 185, 84, 0.1); /* Spotify Green shadow */
        }
        .light-theme .tag {
            background-color: #B3B3B3; /* Medium Gray for tags */
            color: #191414; /* Spotify Black text */
        }
        .light-theme .hobby-tag {
            background-color: #1DB954; /* Spotify Green */
            color: #FFFFFF; /* White text */
        }
        .light-theme .icon-link { color: #535353; } /* Spotify Medium Gray for icons */
        .light-theme .icon-link:hover { color: #1DB954; } /* Spotify Green hover */

        .light-theme nav {
            background-color: rgba(255, 255, 255, 0.9); /* Slightly more opaque white */
            backdrop-filter: blur(5px);
            border-bottom: 1px solid #E0E0E0; /* Lighter border */
        }
        .light-theme #nav-links a { color: #535353; } /* Spotify Medium Gray for nav links */
        .light-theme #nav-links a:hover, .light-theme #nav-links a.active {
            color: #1DB954; /* Spotify Green */
            border-bottom-color: #1DB954; /* Spotify Green underline */
        }
        .light-theme #mobile-menu a { color: #535353; }
        .light-theme #mobile-menu a:hover { background-color: #E9E9E9; color: #1DB954; } /* Light gray bg, Spotify Green text */
        .light-theme #mobile-menu a.active { background-color: #1DB954; color: #FFFFFF; } /* Spotify Green bg, White text */
        .light-theme #mobile-menu-button svg { stroke: #191414; } /* Spotify Black for hamburger */

        .light-theme .btn-primary {
            background: linear-gradient(to right, #1DB954, #1AA34A); /* Spotify Green gradient */
            color: white;
        }
        .light-theme .btn-primary:hover {
            background: linear-gradient(to right, #1AA34A, #128A3C); /* Darker Spotify Green gradient */
            box-shadow: 0 0 15px rgba(29, 185, 84, 0.4); /* Spotify Green shadow */
        }
        .light-theme .btn-secondary {
            background-color: transparent;
            color: #1DB954; /* Spotify Green text */
            border-color: #1DB954; /* Spotify Green border */
        }
        .light-theme .btn-secondary:hover { background-color: #1DB954; color: white; } /* Spotify Green bg, White text */

        /* Hero Section Specific Styles - Light Theme */
        .light-theme #hero .hero-name {
             /* Kusal will be this color, Debnath (span) will use accent-gradient-text */
            color: #191414; /* Spotify Black for the main part of the name */
            background: none; /* Remove existing gradient */
            -webkit-background-clip: initial; /* Reset clip */
            -webkit-text-fill-color: initial; /* Reset fill color */
        }
        .light-theme #hero .hero-designation {
             color: #535353 !important; /* Spotify Medium Gray */
        }
        .light-theme #hero .profile-image-border {
            border-color: #1DB954; /* Spotify Green */
        }

        /* About Me Section Specific Styles - Light Theme */
        .light-theme #about-me .text-content-color {
            color: #535353 !important; /* Spotify Medium Gray */
        }


        .light-theme .text-content-area h3, .light-theme .text-content-area p, .light-theme .text-content-area li, .light-theme .text-content-area a,
        .light-theme .education-folder-content h3, .light-theme .education-folder-content p, .light-theme .education-folder-content li, .light-theme .education-folder-content a
        { color: #191414; } /* Spotify Black for general text */
        .light-theme #about-me .card p { color: #191414; }
        .light-theme #about-me .text-content-color { color: #535353 !important; }


        .light-theme .text-content-area .text-gray-400,
        .light-theme .education-folder-content .text-gray-400
        { color: #B3B3B3 !important; } /* Spotify Light Gray */

        .light-theme .text-content-area .text-gray-500,
        .light-theme .education-folder-content .text-gray-500
        { color: #535353 !important; } /* Spotify Medium Gray */

        .light-theme .education-folder-tab .text-indigo-400 { color: #1DB954 !important; } /* Spotify Green */
        .light-theme .education-folder-tab .text-amber-400 { color: #1DB954 !important; }  /* Spotify Green */
        .light-theme .education-folder-tab .text-teal-400 { color: #1DB954 !important; }   /* Spotify Green */
        .light-theme .education-folder-tab .text-purple-400 { color: #1DB954 !important; } /* Spotify Green */

        .light-theme .text-content-area .text-pink-400 { color: #1DB954 !important; } /* Spotify Green for skills headers etc. */
        .light-theme .text-content-area .text-amber-400:not(.education-folder-tab .text-amber-400) { color: #1DB954 !important; } /* Spotify Green */
        .light-theme .text-content-area .text-teal-400:not(.education-folder-tab .text-teal-400) { color: #1DB954 !important; } /* Spotify Green */
        .light-theme .text-content-area .text-purple-400:not(.education-folder-tab .text-purple-400) { color: #1DB954 !important; } /* Spotify Green */

        .light-theme .project-card-footer a { color: #1DB954; } /* Spotify Green */
        .light-theme .project-card-footer a:hover { color: #1AA34A; } /* Darker Spotify Green */
        .light-theme .text-content-area .text-amber-500 { color: #1DB954; } /* Spotify Green for GitHub/DOI links */
        .light-theme .text-content-area .text-amber-500:hover { color: #1AA34A; } /* Darker Spotify Green */
        .light-theme #contact .card .text-pink-400 { color: #1DB954 !important; } /* Spotify Green for icons */
        .light-theme #contact .card a:hover { color: #1AA34A !important; } /* Darker Spotify Green for links */
        .light-theme #hobbies .card .text-gray-300 { color: #191414 !important; } /* Spotify Black */

        .light-theme .education-folder-content p, .light-theme .education-folder-content ul, .light-theme .education-folder-content li, .light-theme .education-folder-content span, .light-theme .education-folder-content a
        { color: #191414; } /* Spotify Black */

        .light-theme .education-folder-content .text-gray-400 { color: #B3B3B3 !important; } /* Spotify Light Gray */
        .light-theme .education-folder-content .text-gray-500 { color: #535353 !important; } /* Spotify Medium Gray */
        .light-theme .education-folder-content .text-amber-500 { color: #1DB954 !important; } /* Spotify Green */
        .light-theme .education-folder-content .text-amber-500:hover { color: #1AA34A !important; } /* Darker Spotify Green */

        .light-theme footer { background-color: #F0F0F0; color: #535353; border-top: 1px solid #DCDCDC;} /* Light Gray footer, Medium Gray text */
        .light-theme footer .text-gray-500 { color: #535353 !important; }
        .light-theme footer .text-gray-600 { color: #B3B3B3 !important; } /* Lighter gray for secondary footer text */
        .light-theme footer .fa-heart { color: #1DB954 !important; } /* Spotify Green heart */

        .light-theme ::-webkit-scrollbar-track { background: #E9E9E9; } /* Light Gray scrollbar track */
        .light-theme ::-webkit-scrollbar-thumb { background: linear-gradient(to bottom, #1DB954, #1AA34A); } /* Spotify Green gradient thumb */
        .light-theme ::-webkit-scrollbar-thumb:hover { background: linear-gradient(to bottom, #1AA34A, #128A3C); } /* Darker Spotify Green gradient thumb */

        /* Common styles */
        .section-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom-width: 4px;
            border-style: solid;
        }
        .tag {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            display: inline-block;
        }
        html { scroll-behavior: smooth; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-thumb { border-radius: 4px; }

        /* Theme Toggle Slider Styles */
        .theme-slider-container { display: flex; align-items: center; margin-left: 1rem; }
        .theme-slider { display: flex; align-items: center; cursor: pointer; width: 64px; height: 32px; border-radius: 16px; position: relative; transition: background-color 0.4s ease-in-out; border: 1px solid transparent; }
        .theme-slider-thumb { width: 26px; height: 26px; border-radius: 50%; position: absolute; top: 2px; left: 3px; transition: transform 0.4s ease-in-out, background-color 0.4s ease-in-out; box-shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06); }
        .theme-slider .icon { font-size: 14px; transition: opacity 0.4s ease-in-out, color 0.4s ease-in-out; position: absolute; top: 50%; transform: translateY(-50%); pointer-events: none; }
        .theme-slider .sun-icon { left: 6px; }
        .theme-slider .moon-icon { right: 6px; }

        .light-theme .theme-slider { background-color: #e1dede; border-color: #A0A0A0; } /* Spotify Light Gray slider */
        .light-theme .theme-slider-thumb {
            background-color: #ffffff; /* White thumb */
            border: 1px solid #DCDCDC; /* Light gray border for visibility */
            transform: translateX(0px);
        }
        .light-theme .theme-slider .sun-icon { color: #E50914; opacity: 0;} /* Netflix Red sun icon */
        .light-theme .theme-slider .moon-icon { color: #1DB954; opacity: 1;} /* Spotify Green moon icon */

        /* Hero Section Specifics (Static Layout) */
        #hero {
            margin-bottom: 3rem;
            scroll-margin-top: 5rem;
        }

        /* Education Card Specifics (Docked Info) */
        #education-carousel-container {
            overflow: hidden;
        }
        .education-item {
            min-height: 330px;
            /* Ensure overflow is hidden for zoom effect */
            overflow: hidden;
        }

        .institute-info-dock {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 0.75rem;
            text-align: center;
            z-index: 10;
            transition: background-color 0.4s ease-in-out, color 0.4s ease-in-out;
        }

        .light-theme .institute-info-dock {
            background-color: rgba(240, 240, 240, 0.9); /* Matches card background, slightly more opaque */
        }
        .light-theme .institute-info-dock .degree-title {
            color: #1DB954 !important; /* Spotify Green */
        }
        .light-theme .institute-info-dock .degree-info {
            color: #191414 !important; /* Spotify Black */
        }

        .degree-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        .degree-info {
            font-size: 0.875rem;
            line-height: 1.25rem;
        }


        /* Education Carousel Arrows */
        .edu-nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            padding: 0.75rem;
            border-radius: 9999px;
            z-index: 10;
            cursor: pointer;
            transition: background-color 0.2s ease, opacity 0.2s ease;
        }
        .edu-nav-arrow:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }
        #edu-prev { left: -1rem; }
        #edu-next { right: -1rem; }


        .light-theme .edu-nav-arrow {
            background-color: #DCDCDC; /* Light Gray */
            color: #1DB954; /* Spotify Green icon */
        }
        .light-theme .edu-nav-arrow:not(:disabled):hover {
            background-color: #C8C8C8; /* Darker Light Gray */
        }

        /* Folder Styles */
        .education-folders-wrapper {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .education-folder-container {
            border-radius: 0.75rem;
            transition: box-shadow 0.3s ease-in-out;
            overflow: hidden;
        }
        .education-folder-tab {
            padding: 1rem 1.5rem;
            cursor: pointer;
            position: relative;
            transition: background-color 0.3s ease;
            border: 1px solid;
            border-top-left-radius: 0.75rem;
            border-top-right-radius: 0.75rem;
        }
        .education-folder-tab h3 {
            margin-bottom: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            font-size: 1.125rem;
        }
        .education-folder-tab .tab-arrow {
            transition: transform 0.3s ease-in-out;
            font-size: 0.8em;
            margin-left: 0.5rem;
        }
        .education-folder-content {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            padding: 0 1.5rem;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s ease-out, padding-top 0.5s cubic-bezier(0.4, 0, 0.2, 1), padding-bottom 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid;
            border-top: none;
            border-bottom-left-radius: 0.75rem;
            border-bottom-right-radius: 0.75rem;
        }
        .education-folder-container:hover .education-folder-content {
            max-height: 700px; /* Adjust as needed */
            opacity: 1;
            padding-top: 1.5rem;
            padding-bottom: 1.5rem;
        }
        .education-folder-container:hover .tab-arrow {
            transform: rotate(180deg);
        }

        .light-theme .education-folder-tab {
            background-color: #E9E9E9; /* Lighter Gray */
            border-color: #DCDCDC; /* Light Gray border */
        }
        .light-theme .education-folder-tab:hover {
            background-color: #DCDCDC; /* Darker Light Gray on hover */
        }
        .light-theme .education-folder-content {
            background-color: #F0F0F0; /* Matches card background */
            border-color: #DCDCDC; /* Light Gray border */
        }
        .light-theme .education-folder-container:hover {
            box-shadow: 0 6px 12px rgba(29, 185, 84, 0.15); /* Spotify Green shadow */
        }
        .text-content-area {
            /* General text content area styling if needed */
        }

        /* Education Image Zoom and Dock Opacity on Hover for bigger screens */
        .edu-card-image {
            transition: transform 0.3s ease-in-out; /* Smooth transition for zoom */
        }

        @media (min-width: 768px) { /* Corresponds to Tailwind's 'md' breakpoint */
            .education-item:hover .edu-card-image {
                transform: scale(1.05); /* Zoom effect: 5% bigger */
            }
            .light-theme .education-item:hover .institute-info-dock {
                background-color: rgba(240, 240, 240, 0.98); /* More opaque for light theme */
            }
        }

    </style>
</head>
<body class="antialiased"> <nav class="sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto px-4 sm:px-6">
            <div class="flex justify-between items-center py-3">
                <a href="#" class="text-2xl font-bold accent-gradient-text">KD</a>

                <div class="flex items-center">
                    <div id="nav-links" class="hidden md:flex md:items-center md:space-x-1 lg:space-x-2">
                        <a href="#about-me" class="px-2 py-2 rounded-md text-xs lg:text-sm font-medium">About Me</a>
                        <a href="#education" class="px-2 py-2 rounded-md text-xs lg:text-sm font-medium">Education</a>
                        <a href="#skills" class="px-2 py-2 rounded-md text-xs lg:text-sm font-medium">Skills</a>
                        <a href="#experience" class="px-2 py-2 rounded-md text-xs lg:text-sm font-medium">Experience</a>
                        <a href="#projects" class="px-2 py-2 rounded-md text-xs lg:text-sm font-medium">Projects</a>
                        <a href="#publications" class="px-2 py-2 rounded-md text-xs lg:text-sm font-medium">Publications</a>
                        <a href="#hobbies" class="px-2 py-2 rounded-md text-xs lg:text-sm font-medium">Hobbies</a>
                        <a href="#contact" class="px-2 py-2 rounded-md text-xs lg:text-sm font-medium">Contact</a>
                    </div>

                    <div class="theme-slider-container">
                        <div id="theme-toggle-slider" class="theme-slider" aria-label="Toggle theme">
                            <i class="fas fa-sun icon sun-icon"></i>
                            <div class="theme-slider-thumb"></div>
                            <i class="fas fa-moon icon moon-icon"></i>
                        </div>
                    </div>

                    <div class="md:hidden flex items-center ml-2">
                        <button id="mobile-menu-button" class="focus:outline-none">
                            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <div id="mobile-menu" class="hidden md:hidden pb-3">
                 <a href="#hero" class="block py-2 px-3 text-sm rounded-md">Hero</a>
                 <a href="#about-me" class="block py-2 px-3 text-sm rounded-md">About Me</a>
                <a href="#education" class="block py-2 px-3 text-sm rounded-md">Education</a>
                <a href="#skills" class="block py-2 px-3 text-sm rounded-md">Skills</a>
                <a href="#experience" class="block py-2 px-3 text-sm rounded-md">Experience</a>
                <a href="#projects" class="block py-2 px-3 text-sm rounded-md">Projects</a>
                <a href="#publications" class="block py-2 px-3 text-sm rounded-md">Publications</a>
                <a href="#hobbies" class="block py-2 px-3 text-sm rounded-md">Hobbies</a>
                <a href="#contact" class="block py-2 px-3 text-sm rounded-md">Contact</a>
            </div>
        </div>
    </nav>

    <main class="container mx-auto px-4 sm:px-6 py-12">

        <section id="hero" class="scroll-mt-20 mb-12 md:mb-16">
            <div class="card no-hover-effect p-6 md:p-8 overflow-hidden">
                <div class="flex flex-col items-center text-center">
                    <img src="Kusal_D.jpg" alt="Kusal Debnath"
                         class="profile-image w-32 h-32 sm:w-36 sm:h-36 md:w-40 md:h-40 lg:w-48 lg:h-48 mx-auto rounded-full object-cover border-4 profile-image-border shadow-xl mb-6"
                         onerror="this.onerror=null; this.src='https://placehold.co/192x192/141414/E5E7EB?text=KD';"> <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-2 hero-name">
                        Kusal <span class="accent-gradient-text">Debnath</span>
                    </h1>
                    <p class="text-base sm:text-lg md:text-xl hero-designation mb-6">Graduate Researcher | AI-driven Drug Discovery</p>
                    </div>
            </div>
        </section>

        <section id="about-me" class="mb-12 md:mb-16 scroll-mt-20">
            <h2 class="section-title accent-border text-2xl sm:text-3xl md:text-4xl">About Me</h2>
            <div class="card no-hover-effect text-content-area">
                <p class="text-base sm:text-lg leading-relaxed text-content-color text-left sm:text-center mb-6">
                    Graduate Researcher specializing in AI-driven drug discovery, with expertise in Machine Learning (ML), Deep Learning (DL), Generative AI (Gen-AI) RNA-Seq analysis, and molecular docking. Experienced in de novo drug design and drug-target interaction (DTI) prediction modeling. Passionate about leveraging computational biology and AI to advance precision medicine and cheminformatics. Aspiring to lead interdisciplinary research integrating AI and pharmacogenomics for drug discovery.
                </p>
                <div class="buttons-container flex flex-col space-y-3 w-full max-w-xs mx-auto sm:flex-row sm:space-y-0 sm:space-x-4 sm:max-w-sm mt-4">
                    <a href="#contact" class="btn btn-primary w-full text-sm py-2.5 sm:text-base sm:py-3 rounded-lg text-center">Get in Touch</a>
                    <a href="CV.pdf" target="_blank" class="btn btn-secondary w-full text-sm py-2.5 sm:text-base sm:py-3 rounded-lg text-center" id="cvLink">Download CV</a>
                </div>
            </div>
        </section>

        <section id="education" class="mb-12 md:mb-16 scroll-mt-20">
            <h2 class="section-title accent-border text-2xl sm:text-3xl md:text-4xl">Education</h2>
            <div id="education-carousel-container" class="relative">
                <div id="education-items-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                    <div class="education-item card rounded-lg shadow-lg overflow-hidden relative p-0">
                        <img src="vcu.jpg" alt="Virginia Commonwealth University"
                             class="edu-card-image absolute inset-0 w-full h-full object-cover"
                             onerror="this.src='https://placehold.co/400x200/222222/e5e7eb?text=VCU'"> <div class="institute-info-dock">
                            <h3 class="degree-title">Doctor of Philosophy (PhD) in Computer Science</h3>
                            <p class="degree-info">Virginia Commonwealth University</p>
                            <p class="degree-info text-xs">Aug 2023 – Present</p>
                        </div>
                    </div>
                    <div class="education-item card rounded-lg shadow-lg overflow-hidden relative p-0">
                        <img src="iitkgp.jpg" alt="IIT Kharagpur"
                             class="edu-card-image absolute inset-0 w-full h-full object-cover"
                             onerror="this.src='https://placehold.co/400x200/222222/e5e7eb?text=IITKGP'"> <div class="institute-info-dock">
                            <h3 class="degree-title">Master of Technology (MTech) in Biomedical Engineering</h3>
                            <p class="degree-info">Indian Institute of Technology, Kharagpur</p>
                            <p class="degree-info text-xs">Aug 2021 – June 2023 (GPA: 8.70/10.0)</p>
                        </div>
                    </div>
                    <div class="education-item card rounded-lg shadow-lg overflow-hidden relative p-0">
                         <img src="hit.jpeg" alt="Haldia Institute of Technology"
                             class="edu-card-image absolute inset-0 w-full h-full object-cover"
                             onerror="this.src='https://placehold.co/400x200/222222/e5e7eb?text=HIT'"> <div class="institute-info-dock">
                            <h3 class="degree-title">Bachelor of Technology (BTech) in Biotechnology</h3>
                            <p class="degree-info">Haldia Institute of Technology, Haldia</p>
                            <p class="degree-info text-xs">Aug 2017 – July 2021 (GPA: 9.43/10.0)</p>
                        </div>
                    </div>
                </div>
                <button id="edu-prev" class="edu-nav-arrow hidden">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button id="edu-next" class="edu-nav-arrow hidden">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </section>

        <section id="skills" class="mb-12 md:mb-16 scroll-mt-20">
            <h2 class="section-title accent-border text-2xl sm:text-3xl md:text-4xl">Skills</h2>
            <div class="card text-content-area no-hover-effect">
                <div class="mb-4">
                    <h3 class="text-md sm:text-lg font-semibold text-pink-400 mb-2">Programming Languages:</h3>
                    <span class="tag">C</span> <span class="tag">C++</span> <span class="tag">Python</span> <span class="tag">R</span> <span class="tag">JavaScript</span>
                </div>
                <div class="mb-4">
                    <h3 class="text-md sm:text-lg font-semibold text-pink-400 mb-2">Frameworks:</h3>
                    <span class="tag">PyTorch</span> <span class="tag">TensorFlow</span>
                </div>
                <div>
                    <h3 class="text-md sm:text-lg font-semibold text-pink-400 mb-2">Soft Skills:</h3>
                    <span class="tag">Research Communication</span> <span class="tag">Adaptability</span> <span class="tag">Team Player</span> <span class="tag">Critical Thinking</span>
                </div>
            </div>
        </section>

        <section id="experience" class="mb-12 md:mb-16 scroll-mt-20">
            <h2 class="section-title accent-border text-2xl sm:text-3xl md:text-4xl">Research Experience</h2>
            <div class="education-folders-wrapper">
                <div class="education-folder-container">
                    <div class="education-folder-tab">
                        <h3 class="font-semibold text-amber-400"> Research Assistant
                            <i class="fas fa-chevron-down tab-arrow"></i>
                        </h3>
                    </div>
                    <div class="education-folder-content">
                        <p class="text-gray-400 text-sm sm:text-base">Virginia Commonwealth University, Richmond, VA, USA</p>
                        <p class="text-xs sm:text-sm text-gray-500 mb-2">Aug 2023 – Present</p>
                        <ul class="list-disc list-inside space-y-1 text-xs sm:text-sm">
                            <li>Developed comprehensive deep-learning pipelines to investigate drug-target interactions (DTI) for exploring novel drugs for biological targets.</li>
                            <li>Constructed generative deep-learning models for designing de novo drugs against multiple cancer subtypes.</li>
                        </ul>
                    </div>
                </div>
                <div class="education-folder-container">
                    <div class="education-folder-tab">
                        <h3 class="font-semibold text-amber-400">
                            Research Assistant
                            <i class="fas fa-chevron-down tab-arrow"></i>
                        </h3>
                    </div>
                    <div class="education-folder-content">
                        <p class="text-gray-400 text-sm sm:text-base">Indian Institute of Technology, Kharagpur, India</p>
                        <p class="text-xs sm:text-sm text-gray-500 mb-2">June 2022 – May 2023</p>
                        <ul class="list-disc list-inside space-y-1 text-xs sm:text-sm">
                            <li>Developed robust RNA-Seq analysis pipelines to uncover and examine primary differential gene expressions contributing to Glioblastoma Multiforme (GBM) progression.</li>
                            <li>Identified potential protein-protein interactions (PPIs) linked to differentially expressed genes as novel drug targets for treating GBM using classical machine learning algorithms.</li>
                        </ul>
                    </div>
                </div>
                 <div class="education-folder-container">
                    <div class="education-folder-tab">
                        <h3 class="font-semibold text-amber-400">
                            Research Intern
                            <i class="fas fa-chevron-down tab-arrow"></i>
                        </h3>
                    </div>
                    <div class="education-folder-content">
                        <p class="text-gray-400 text-sm sm:text-base">Calcutta National Medical College, Kolkata, India</p>
                        <p class="text-xs sm:text-sm text-gray-500 mb-2">Jan 2020 – Feb 2020</p>
                        <ul class="list-disc list-inside space-y-1 text-xs sm:text-sm">
                            <li>Designed experiments to investigate restriction digestion of PCR-amplified G6PD gene to detect the +563 C/T single nucleotide polymorphism (SNP).</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="projects" class="mb-12 md:mb-16 scroll-mt-20">
            <h2 class="section-title accent-border text-2xl sm:text-3xl md:text-4xl">Research Projects</h2>
            <div class="education-folders-wrapper">
                <div class="education-folder-container">
                    <div class="education-folder-tab">
                        <h3 class="font-semibold text-teal-400"> GramSeq-DTA: A Grammar-based Drug-Target Affinity Prediction Approach Fusing Gene Expression Information
                            <i class="fas fa-chevron-down tab-arrow"></i>
                        </h3>
                    </div>
                    <div class="education-folder-content">
                        <p class="text-xs sm:text-sm text-gray-400 mb-1">Sep 2023 – Mar 2025</p>
                        <p class="text-xs sm:text-sm mb-3">Developed a multi-modal deep learning model for drug-target affinity (DTA) prediction by integrating differential gene expression information with drug and protein structural information. Demonstrated improved performance upon benchmarking.</p>
                        <div class="project-card-footer pt-3">
                            <a href="https://github.com/debnathk/gramseq" target="_blank" class="text-xs sm:text-sm font-medium hover:underline text-amber-500"><i class="fab fa-github mr-1"></i> GitHub Repository</a>
                        </div>
                    </div>
                </div>
                <div class="education-folder-container">
                    <div class="education-folder-tab">
                        <h3 class="font-semibold text-teal-400">
                            Commonsense Inference using Large-Language Models
                            <i class="fas fa-chevron-down tab-arrow"></i>
                        </h3>
                    </div>
                    <div class="education-folder-content">
                        <p class="text-xs sm:text-sm text-gray-400 mb-1">Feb 2024 – Apr 2024</p>
                        <p class="text-xs sm:text-sm mb-3">Fine-tuned LLMs, including BERT, ERNIE-2.0, and UnifiedQA, using Hugging Face to evaluate commonsense capabilities on the Com2Sense benchmark. Identified UnifiedQA as the best-performing model.</p>
                        <div class="project-card-footer pt-3">
                            <a href="https://github.com/debnathk/commonsense_inference" target="_blank" class="text-xs sm:text-sm font-medium hover:underline text-amber-500"><i class="fab fa-github mr-1"></i> GitHub Repository</a>
                        </div>
                    </div>
                </div>
                <div class="education-folder-container">
                    <div class="education-folder-tab">
                        <h3 class="font-semibold text-teal-400">
                            Leveraging Neural Style Transfer for Early Detection of Cardiac Arrest from ECG Imaging
                            <i class="fas fa-chevron-down tab-arrow"></i>
                        </h3>
                    </div>
                    <div class="education-folder-content">
                        <p class="text-xs sm:text-sm text-gray-400 mb-1">Feb 2025 – Apr 2025</p>
                        <p class="text-xs sm:text-sm mb-3">Generated augmented Electrocardiogram (ECG) images leveraging Neural Style Transfer (NST) using VGG-19 deep learning model. Improved model F1 score for disease classification by 2.4 times.</p>
                        <div class="project-card-footer pt-3">
                            <a href="https://github.com/debnathk/nst_ecg" target="_blank" class="text-xs sm:text-sm font-medium hover:underline text-amber-500"><i class="fab fa-github mr-1"></i> GitHub Repository</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="publications" class="mb-12 md:mb-16 scroll-mt-20">
            <h2 class="section-title accent-border text-2xl sm:text-3xl md:text-4xl">Publications</h2>
            <div class="education-folders-wrapper">
                <div class="education-folder-container">
                    <div class="education-folder-tab">
                        <h3 class="font-semibold text-purple-400"> GramSeq-DTA: A Grammar-Based Drug-Target Affinity Prediction Approach Fusing Gene Expression Information
                            <i class="fas fa-chevron-down tab-arrow"></i>
                        </h3>
                    </div>
                    <div class="education-folder-content">
                        <p class="text-xs sm:text-sm text-gray-400 italic">Biomolecules, MDPI (Journal Category: Q1, Impact factor: 4.8) - Mar 2025</p>
                        <p class="text-xs text-gray-500">Kusal Debnath, Pratip Rana, Preetam Ghosh</p>
                        <p class="text-xs sm:text-sm mt-1">Developed an end-to-end deep learning model to analyze and extract features from drug and protein structural data along with gene expression information, demonstrating proficiency in predictive analysis of drug-target binding.</p>
                        <a href="https://doi.org/10.3390/biom15030405" target="_blank" class="text-xs sm:text-sm text-amber-500 hover:text-amber-400 mt-2 inline-block">DOI: 10.3390/biom15030405</a>
                    </div>
                </div>
                 <div class="education-folder-container">
                    <div class="education-folder-tab">
                        <h3 class="font-semibold text-purple-400">
                            24R,25(OH)2D3 Regulates Tumorigenesis in Estrogen Sensitive Laryngeal Cancer Cells via Membrane-Associated Receptor Complexes in ER+ and ER- Cells
                            <i class="fas fa-chevron-down tab-arrow"></i>
                        </h3>
                    </div>
                    <div class="education-folder-content">
                        <p class="text-xs sm:text-sm text-gray-400 italic">International Journal of Cancer, Wiley (Journal Category: Q1, Impact factor: 5.7)</p>
                        <p class="text-xs text-gray-500">Cydney Dennis, D. Joshua Cohen, Kusal Debnath, Nofrat Schwartz, Brock Lodato, Jonathan Dillon, Tillat Batool, Matthew Halquist, Preetam Ghosh, Zvi Schwartz, and Barbara Boyan</p>
                        <p class="text-xs sm:text-sm mt-1">Conducted extensive ligand-protein docking analyses, utilizing advanced computational techniques to predict the binding affinity and interactions between the ligand of interest and numerous target proteins.</p>
                    </div>
                </div>
                <div class="education-folder-container">
                    <div class="education-folder-tab">
                        <h3 class="font-semibold text-purple-400">
                            Bio-electrochemical System Analysis and Improvement: A Technical Review
                            <i class="fas fa-chevron-down tab-arrow"></i>
                        </h3>
                    </div>
                    <div class="education-folder-content">
                        <p class="text-xs sm:text-sm text-gray-400 italic">Cleaner and Circular Bioeconomy, Elsevier (Journal Category: Q2) - Dec 2023</p>
                        <p class="text-xs text-gray-500">Kusal Debnath, Subhasish Dutta</p>
                        <p class="text-xs sm:text-sm mt-1">Discussed integrating BESs with electrochemical capacitors, surfactants, biogas generation, 3D electrodes, and thermoelectric regulators, highlighting potential applications and research gaps.</p>
                        <a href="https://doi.org/10.1016/j.clcb.2023.100052" target="_blank" class="text-xs sm:text-sm text-amber-500 hover:text-amber-400 mt-2 inline-block">DOI: 10.1016/j.clcb.2023.100052</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="hobbies" class="mb-12 md:mb-16 scroll-mt-20">
            <h2 class="section-title accent-border text-2xl sm:text-3xl md:text-4xl">Hobbies & Interests</h2>
            <div class="card text-content-area no-hover-effect">
                <p class="text-gray-300 mb-4 text-base sm:text-lg">Beyond my academic and research pursuits, I enjoy a variety of activities that help me relax and grow:</p>
                <div>
                    <span class="tag hobby-tag"><i class="fas fa-utensils mr-1"></i> Cooking</span>
                    <span class="tag hobby-tag"><i class="fas fa-guitar mr-1"></i> Guitar</span>
                    <span class="tag hobby-tag"><i class="fas fa-film mr-1"></i> Movies</span>
                    <span class="tag hobby-tag"><i class="fas fa-music mr-1"></i> Music</span>
                    <span class="tag hobby-tag"><i class="fas fa-dumbbell mr-1"></i> Workout</span>
                    <span class="tag hobby-tag"><i class="fas fa-language mr-1"></i> Learning New Languages</span>
                </div>
            </div>
        </section>

        <section id="contact" class="scroll-mt-20">
            <h2 class="section-title accent-border text-2xl sm:text-3xl md:text-4xl">Get in Touch</h2>
            <div class="card text-center text-content-area no-hover-effect">
                <p class="text-base sm:text-lg mb-6">
                    I'm always open to discussing new research, projects, or collaboration opportunities.
                </p>
                <p class="mb-2 text-sm sm:text-base"><i class="fas fa-envelope mr-2 text-pink-400"></i> <a href="mailto:debnathkusal8@gmail.com" class="hover:text-pink-400">debnathkusal8@gmail.com</a></p>
                <p class="mb-2 text-sm sm:text-base"><i class="fas fa-phone mr-2 text-pink-400"></i> +1 (804)-933-7613</p>
                <p class="mb-6 text-sm sm:text-base"><i class="fas fa-map-marker-alt mr-2 text-pink-400"></i> Richmond, VA 23220, USA</p>
                <div class="flex justify-center space-x-6 text-2xl sm:text-3xl">
                    <a href="https://www.linkedin.com/in/debnathkusal221b/" target="_blank" class="icon-link text-gray-400 hover:text-indigo-400"><i class="fab fa-linkedin"></i></a>
                    <a href="https://github.com/debnathk/" target="_blank" class="icon-link text-gray-400 hover:text-purple-400"><i class="fab fa-github"></i></a>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center py-8 mt-12 md:mt-16">
        <p class="text-gray-500 text-sm">&copy; <span id="currentYear"></span> Kusal Debnath. All rights reserved.</p>
        <p class="text-gray-600 text-xs mt-1">Designed with <i class="fas fa-heart"></i> using Tailwind CSS.</p>
    </footer>

        <script>
            // DOM Elements
            const themeToggleSlider = document.getElementById('theme-toggle-slider');
            const body = document.body;
            const profileImage = document.querySelector('#hero img.profile-image');
            const educationLogos = document.querySelectorAll('.edu-card-image');


            // Function to apply the chosen theme
            function applyTheme(theme) {
                body.classList.remove('dark-theme', 'light-theme');
                const isLightTheme = theme === 'light';
                body.classList.add(isLightTheme ? 'light-theme' : 'dark-theme');

                // Define placeholder URLs based on theme
                const placeholderBase = isLightTheme ?
                    'https://placehold.co/192x192/FFFFFF/191414?text=' : // Light theme: White bg, Spotify Black text
                    'https://placehold.co/192x192/141414/E5E7EB?text='; // Dark theme: Netflix black bg, light gray text
                const eduPlaceholderBase = isLightTheme ?
                    'https://placehold.co/400x200/F0F0F0/191414?text=' : // Light theme: Light Gray bg, Spotify Black text
                    'https://placehold.co/400x200/222222/E5E7EB?text='; // Dark theme: Card bg, light gray text

                // Update profile image placeholder if it's an error or already a placeholder
                if (profileImage) {
                    profileImage.onerror = () => { profileImage.src = placeholderBase + 'KD'; };
                    if (profileImage.src.startsWith('https://placehold.co/')) {
                        profileImage.src = placeholderBase + 'KD';
                    }
                }

                // Update education logos placeholders if they are errors or already placeholders
                educationLogos.forEach(logo => {
                    const altText = logo.alt.split(' ')[0] || 'IMG'; // Use first word of alt text or 'IMG'
                    logo.onerror = () => { logo.src = eduPlaceholderBase + altText.substring(0,6).toUpperCase(); };
                     if (logo.src.startsWith('https://placehold.co/')) {
                        logo.src = eduPlaceholderBase + altText.substring(0,6).toUpperCase();
                    }
                });

                // Force re-evaluation of onerror for images that might have failed before JS ran
                if (profileImage && (profileImage.complete && profileImage.naturalWidth === 0) || !profileImage.complete && !profileImage.src.startsWith('https://placehold.co/')) {
                     const currentSrc = profileImage.src;
                     profileImage.src = ''; // Temporarily clear src to trigger onerror if needed
                     profileImage.src = currentSrc; // Restore original src
                }
                 educationLogos.forEach(logo => {
                    if ((logo.complete && logo.naturalWidth === 0) || !logo.complete && !logo.src.startsWith('https://placehold.co/')) {
                        const currentSrc = logo.src;
                        logo.src = '';
                        logo.src = currentSrc;
                    }
                });
            }

            // Function to toggle theme and save preference
            function toggleTheme() {
                const currentTheme = body.classList.contains('dark-theme') ? 'dark' : 'light';
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                applyTheme(newTheme);
                localStorage.setItem('portfolioTheme', newTheme);
            }

            // Event listener for theme toggle slider
            if (themeToggleSlider) {
                themeToggleSlider.addEventListener('click', toggleTheme);
            }

            // DOMContentLoaded event listener for initial setup
            document.addEventListener('DOMContentLoaded', () => {
                // Determine and apply initial theme
                const savedTheme = localStorage.getItem('portfolioTheme');
                const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

                let initialTheme = 'light'; // Default to light theme
                if (savedTheme) {
                    initialTheme = savedTheme;
                } else if (prefersDark) {
                    initialTheme = 'dark';
                }
                applyTheme(initialTheme);

                // Set current year in footer
                document.getElementById('currentYear').textContent = new Date().getFullYear();

                // Mobile menu toggle functionality
                const mobileMenuButton = document.getElementById('mobile-menu-button');
                const mobileMenu = document.getElementById('mobile-menu');
                const hamburgerIconPath = "M4 6h16M4 12h16M4 18h16"; // SVG path for hamburger icon
                const closeIconPath = "M6 18L18 6M6 6l12 12"; // SVG path for close icon

                if (mobileMenuButton && mobileMenu) {
                    mobileMenuButton.addEventListener('click', () => {
                        const isOpen = !mobileMenu.classList.contains('hidden');
                        mobileMenu.classList.toggle('hidden');
                        const iconSvg = mobileMenuButton.querySelector('svg');
                        const iconPath = iconSvg.querySelector('path');
                        if (iconPath) {
                            iconPath.setAttribute('d', isOpen ? hamburgerIconPath : closeIconPath);
                        }
                    });

                    // Close mobile menu when a link is clicked
                    const mobileNavLinks = mobileMenu.querySelectorAll('a');
                    mobileNavLinks.forEach(link => {
                        link.addEventListener('click', () => {
                            mobileMenu.classList.add('hidden');
                            const iconSvg = mobileMenuButton.querySelector('svg');
                            const iconPath = iconSvg.querySelector('path');
                            if (iconPath) {
                                 iconPath.setAttribute('d', hamburgerIconPath); // Reset to hamburger icon
                            }
                        });
                    });
                }

                // Active navigation link highlighting on scroll
                const sections = document.querySelectorAll('section[id]');
                const desktopNavLinks = document.querySelectorAll('#nav-links a');
                const mobileNavLinksForScroll = document.querySelectorAll('#mobile-menu a');

                function updateActiveNavLink() {
                    let currentSectionId = '';
                    let navHeight = document.querySelector('nav').offsetHeight || 60; // Fallback nav height
                    let offset = navHeight + 40; // Offset for better accuracy

                    // Special handling for Hero section to be active at the very top
                    const heroSection = document.getElementById('hero');
                    if (heroSection) {
                        const heroTop = heroSection.offsetTop;
                        const heroHeight = heroSection.offsetHeight;
                        // Consider hero active if viewport is within its top 70% (adjust 0.3 as needed)
                        if (pageYOffset < heroTop + heroHeight - (window.innerHeight * 0.3)) {
                            currentSectionId = 'hero';
                        }
                    }

                    // Iterate other sections if hero isn't active
                    if (!currentSectionId) {
                        sections.forEach(section => {
                            if (section.id === 'hero') return; // Skip hero if already handled or not at top
                            const sectionTop = section.offsetTop;
                            const sectionHeight = section.offsetHeight;
                            if (pageYOffset >= sectionTop - offset && pageYOffset < sectionTop + sectionHeight - offset) {
                                currentSectionId = section.getAttribute('id');
                            }
                        });
                    }

                    // Fallbacks if no section is actively identified
                    if (!currentSectionId && sections.length > 0) {
                         // If above the first non-hero section, make it active
                         if (pageYOffset < sections[0].offsetTop - offset && sections[0].id !== 'hero') {
                            currentSectionId = sections[0].getAttribute('id');
                        }
                        // If at the very bottom of the page, make the last section active
                        else if (pageYOffset + window.innerHeight >= document.body.scrollHeight - 20) { // Small tolerance for bottom
                            currentSectionId = sections[sections.length - 1].getAttribute('id');
                        }
                        // Default to hero if still nothing (e.g., if only hero section exists or at very top)
                        else if (!currentSectionId && heroSection) {
                             currentSectionId = 'hero';
                        }
                    }

                    // Update desktop nav links
                    desktopNavLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${currentSectionId}`) {
                            link.classList.add('active');
                        }
                    });

                    // Update mobile nav links
                    mobileNavLinksForScroll.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${currentSectionId}`) {
                            link.classList.add('active');
                        }
                    });
                }

                window.addEventListener('scroll', updateActiveNavLink);
                updateActiveNavLink(); // Initial call to set active link on page load

                // Education Carousel Logic
                const eduCarouselContainer = document.getElementById('education-carousel-container');
                const eduGrid = document.getElementById('education-items-grid');
                const eduItems = eduGrid ? Array.from(eduGrid.children).filter(child => child.classList.contains('education-item')) : [];
                const eduPrevButton = document.getElementById('edu-prev');
                const eduNextButton = document.getElementById('edu-next');
                let currentEduSlideIndex = 0;
                let eduIsSmallScreen = false; // Flag to track if carousel view is active
                let eduAutoSlideInterval = null;
                const AUTO_SLIDE_DELAY = 2000;

                function showEduSlide(index) {
                    if (!eduGrid || eduItems.length === 0) return;
                    const percentage = -index * 100;
                    eduGrid.style.transform = `translateX(${percentage}%)`;
                    currentEduSlideIndex = index;
                    if (eduPrevButton) eduPrevButton.disabled = index === 0;
                    if (eduNextButton) eduNextButton.disabled = index === eduItems.length - 1;
                }

                function nextEduSlide() {
                    if (eduItems.length === 0) return;
                    let nextIndex = (currentEduSlideIndex + 1);
                    if (nextIndex >= eduItems.length) {
                        nextIndex = 0; // Loop back to the first slide
                    }
                    showEduSlide(nextIndex);
                }

                function prevEduSlide() {
                    if (eduItems.length === 0) return;
                    let prevIndex = (currentEduSlideIndex - 1);
                    if (prevIndex < 0) {
                        prevIndex = eduItems.length - 1; // Loop back to the last slide
                    }
                    showEduSlide(prevIndex);
                }

                function startEduAutoSlide() {
                    stopEduAutoSlide(); // Clear any existing interval
                    if (eduIsSmallScreen && eduItems.length > 1) { // Only auto-slide on small screens with multiple items
                        eduAutoSlideInterval = setInterval(nextEduSlide, AUTO_SLIDE_DELAY);
                    }
                }

                function stopEduAutoSlide() {
                    clearInterval(eduAutoSlideInterval);
                    eduAutoSlideInterval = null;
                }

                // Updates carousel visibility and behavior based on screen size
                function updateEduCarouselVisibility() {
                    if (!eduGrid || !eduPrevButton || !eduNextButton || !eduCarouselContainer) return;

                    if (eduIsSmallScreen) {
                        eduCarouselContainer.style.overflow = 'hidden'; // Needed for slide effect
                        eduGrid.classList.remove('grid', 'sm:grid-cols-2', 'lg:grid-cols-3', 'gap-6', 'md:gap-8');
                        eduGrid.classList.add('flex'); // Change to flex for sliding
                        eduGrid.style.transition = 'transform 0.5s ease-in-out';

                        eduItems.forEach(item => {
                            item.style.width = '100%'; // Each item takes full width of container
                            item.style.flexShrink = '0';
                        });

                        showEduSlide(currentEduSlideIndex); // Ensure correct slide is shown

                        if (eduItems.length > 1) {
                            eduPrevButton.classList.remove('hidden');
                            eduNextButton.classList.remove('hidden');
                            startEduAutoSlide();
                        } else { // Hide arrows if only one item
                            eduPrevButton.classList.add('hidden');
                            eduNextButton.classList.add('hidden');
                        }
                    } else { // Larger screens: revert to grid layout
                        eduCarouselContainer.style.overflow = ''; // Reset overflow
                        eduGrid.classList.remove('flex');
                        eduGrid.classList.add('grid', 'sm:grid-cols-2', 'lg:grid-cols-3', 'gap-6', 'md:gap-8');
                        eduGrid.style.transform = ''; // Reset transform
                        eduGrid.style.transition = ''; // Reset transition

                        eduItems.forEach(item => {
                            item.style.width = ''; // Reset item width
                            item.style.flexShrink = '';
                        });
                        eduPrevButton.classList.add('hidden');
                        eduNextButton.classList.add('hidden');
                        stopEduAutoSlide();
                    }
                }

                // Handles screen resize events for the education carousel
                function handleEduScreenResize() {
                    const smallScreenBreakpoint = 640; // Tailwind's 'sm' breakpoint
                    const newIsSmallScreen = window.innerWidth < smallScreenBreakpoint;

                    if (newIsSmallScreen !== eduIsSmallScreen) { // If screen mode changed
                        eduIsSmallScreen = newIsSmallScreen;
                        if (!eduIsSmallScreen) { // If moving from small to large, reset slide index
                            currentEduSlideIndex = 0;
                        }
                        updateEduCarouselVisibility();
                    } else if (eduIsSmallScreen && !eduAutoSlideInterval && eduItems.length > 1) {
                        // If still small screen and auto-slide isn't running (e.g., after manual nav), restart it
                        startEduAutoSlide();
                    }
                }

                // Initialize education carousel if items exist
                if (eduItems.length > 0) {
                    if(eduPrevButton) {
                        eduPrevButton.addEventListener('click', () => {
                            stopEduAutoSlide();
                            prevEduSlide();
                            // Restart auto-slide after a delay if still on small screen
                            if (eduIsSmallScreen && eduItems.length > 1) setTimeout(startEduAutoSlide, AUTO_SLIDE_DELAY + 500);
                        });
                    }
                    if(eduNextButton) {
                        eduNextButton.addEventListener('click', () => {
                            stopEduAutoSlide();
                            nextEduSlide();
                            if (eduIsSmallScreen && eduItems.length > 1) setTimeout(startEduAutoSlide, AUTO_SLIDE_DELAY + 500);
                        });
                    }
                    // Touch swipe handling for education carousel on small screens
                    let touchStartX = 0;
                    let touchEndX = 0;

                    eduGrid.addEventListener('touchstart', (event) => {
                        if (!eduIsSmallScreen || eduItems.length <= 1) return;
                        touchStartX = event.changedTouches[0].screenX;
                        stopEduAutoSlide(); // Pause auto-slide during touch
                    }, { passive: true });

                    eduGrid.addEventListener('touchend', (event) => {
                        if (!eduIsSmallScreen || eduItems.length <= 1) return;
                        touchEndX = event.changedTouches[0].screenX;
                        handleSwipeGesture();
                        // Restart auto-slide after swipe, if applicable
                        if (eduIsSmallScreen && eduItems.length > 1) setTimeout(startEduAutoSlide, AUTO_SLIDE_DELAY + 500);
                    }, { passive: true });

                    function handleSwipeGesture() {
                        const swipeThreshold = 50; // Minimum pixels for a swipe
                        if (touchEndX < touchStartX - swipeThreshold) { // Swiped left
                            nextEduSlide();
                        } else if (touchEndX > touchStartX + swipeThreshold) { // Swiped right
                            prevEduSlide();
                        }
                    }
                }

                // Add resize listener and call initially to set up carousel
                window.addEventListener('resize', handleEduScreenResize);
                handleEduScreenResize();
            });

            // CV Link (if any specific JS interaction is needed in the future)
            const cvLink = document.getElementById('cvLink');

        </script>
</body>
</html>
